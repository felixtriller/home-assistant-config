sonos_say:
  alias: "Sonos TTS"
  sequence:
    - service: media_player.sonos_snapshot
      data_template:
        entity_id: "{{ sonos_entity }}"
    - service: media_player.sonos_unjoin
      data_template:
        entity_id: "{{ sonos_entity }}"
    - service: media_player.volume_set
      data_template:
        entity_id: "{{ sonos_entity }}"
        volume_level: "{{ volume if volume else 0.1 }}"
    - service: tts.google_say
      data_template:
        entity_id: "{{ sonos_entity }}"
        message: "{{ message }}"
    - delay: "{{ delay if delay else '00:00:10' }}"
    - service: media_player.sonos_restore
      data_template:
        entity_id: "{{ sonos_entity }}"
